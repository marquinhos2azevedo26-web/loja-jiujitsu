<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loja de Jiu-Jitsu</title>

<!-- Font Awesome para ícones -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* ===== Estilo geral ===== */
body {
    margin:0;
    font-family: 'Arial', sans-serif;
    background:#000;
    color:#fff;
}

a { text-decoration:none; }

/* ===== Banner principal ===== */
header {
    position:relative;
    height:60vh;
    background:url('https://images.unsplash.com/photo-1599058917219-2e0936ebc3cd?auto=format&fit=crop&w=1950&q=80') center/cover no-repeat;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
}
header h1 {
    color:#f00;
    font-size:3em;
    margin:0;
    text-shadow:2px 2px 4px #000;
}
header p {
    font-size:1.2em;
    margin:10px 0;
}
header .btn-banner {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background:#f00;
    color:#fff;
    padding:15px 30px;
    border-radius:50px;
    font-weight:bold;
    transition:0.3s;
}
header .btn-banner:hover {
    background:#fff;
    color:#f00;
}

/* ===== Categorias ===== */
#categorias {
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    padding:50px 20px;
    gap:20px;
}
.categoria-card {
    background:#111;
    width:180px;
    height:180px;
    border-radius:15px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    transition:0.3s;
    text-align:center;
    padding:10px;
}
.categoria-card img {
    width:80px;
    height:80px;
    object-fit:contain;
    margin-bottom:10px;
}
.categoria-card span {
    font-weight:bold;
}
.categoria-card:hover {
    background:#f00;
    color:#000;
}

/* ===== Vitrine de produtos ===== */
#produtos {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    padding:50px 20px;
    gap:20px;
}
.produto-card {
    background:#111;
    border:2px solid #f00;
    border-radius:15px;
    width:220px;
    overflow:hidden;
    transition:0.3s;
    text-align:center;
}
.produto-card:hover {
    transform:scale(1.05);
}
.produto-card img {
    width:100%;
    height:220px;
    object-fit:cover;
}
.produto-card h3 {
    margin:10px 0 5px;
    color:#f00;
}
.produto-card p {
    font-size:0.9em;
    margin:0 10px 10px 10px;
}
.produto-card .btn-produto {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background:#f00;
    color:#fff;
    padding:10px;
    margin:10px;
    border-radius:50px;
    transition:0.3s;
}
.produto-card .btn-produto:hover {
    background:#fff;
    color:#f00;
}

/* ===== Rodapé ===== */
footer {
    background:#111;
    padding:40px 20px;
    display:flex;
    justify-content:space-around;
    flex-wrap:wrap;
}
footer div {
    margin:10px;
}
footer a {
    color:#f00;
}
footer a:hover {
    color:#fff;
}

/* ===== Painel admin oculto ===== */
#adminSecret {
    position:fixed;
    top:10px;
    right:10px;
    width:30px;
    height:30px;
    cursor:pointer;
    z-index:1000;
}
#adminPanel {
    display:none;
    position:fixed;
    top:50px;
    right:50px;
    width:300px;
    max-height:80vh;
    overflow-y:auto;
    background:#111;
    border:2px solid #f00;
    padding:20px;
    z-index:1001;
    border-radius:10px;
}
#adminPanel input {
    width:100%;
    padding:8px;
    margin:5px 0;
    border-radius:5px;
    border:none;
}
#adminPanel button {
    width:100%;
    padding:10px;
    margin:5px 0;
    background:#f00;
    color:#fff;
    border:none;
    border-radius:5px;
    cursor:pointer;
}
#listaAdmin button {
    background:#fff;
    color:#f00;
    border:none;
    border-radius:5px;
    padding:3px 6px;
    cursor:pointer;
}
</style>
</head>
<body>

<!-- Banner -->
<header>
    <h1>Os melhores kimonos e acessórios de Jiu-Jitsu</h1>
    <p>Em um só lugar, com revenda segura!</p>
    <a href="#produtos" class="btn-banner">
        <i class="fa fa-eye"></i> Ver Produtos
    </a>
</header>

<!-- Categorias -->
<section id="categorias">
    <div class="categoria-card" onclick="filtrarCategoria('Kimonos')">
        <img src="https://images.unsplash.com/photo-1612093961216-3109a815d38e?auto=format&fit=crop&w=80&q=80" alt="Kimonos">
        <span>Kimonos</span>
    </div>
    <div class="categoria-card" onclick="filtrarCategoria('Faixas')">
        <img src="https://images.unsplash.com/photo-1599058917219-2e0936ebc3cd?auto=format&fit=crop&w=80&q=80" alt="Faixas">
        <span>Faixas</span>
    </div>
    <div class="categoria-card" onclick="filtrarCategoria('Rash Guards')">
        <img src="https://images.unsplash.com/photo-1599058921241-28b4c4d58c6e?auto=format&fit=crop&w=80&q=80" alt="Rash Guards">
        <span>Rash Guards</span>
    </div>
    <div class="categoria-card" onclick="filtrarCategoria('Shorts')">
        <img src="https://images.unsplash.com/photo-1605902711622-cfb43c44300c?auto=format&fit=crop&w=80&q=80" alt="Shorts">
        <span>Shorts/Bermudas</span>
    </div>
    <div class="categoria-card" onclick="filtrarCategoria('Acessórios')">
        <img src="https://images.unsplash.com/photo-1613386579737-0c8a4b4a6765?auto=format&fit=crop&w=80&q=80" alt="Acessórios">
        <span>Acessórios</span>
    </div>
</section>

<!-- Produtos -->
<section id="produtos"></section>

<!-- Rodapé -->
<footer>
    <div>
        <h4>Contato</h4>
        <p>Email: contato@jiujiselwa.com</p>
        <p>Tel: +55 98 8742-0978</p>
    </div>
    <div>
        <h4>Redes Sociais</h4>
        <p><a href="https://instagram.com/azv.figths.co" target="_blank">Instagram</a></p>
        <p><a href="https://wa.me/559887420978" target="_blank">WhatsApp</a></p>
    </div>
</footer>

<!-- Ponto secreto admin -->
<div id="adminSecret"></div>

<!-- Painel admin oculto -->
<div id="adminPanel">
    <h3>Painel Admin</h3>
    <div id="loginDiv">
        <input type="password" id="senhaAdmin" placeholder="Digite a senha">
        <button id="entrarAdmin">Entrar</button>
    </div>
    <div id="painelConteudo" style="display:none;">
        <h4>Adicionar Produto</h4>
        <input type="text" id="nomeProduto" placeholder="Nome">
        <input type="text" id="categoriaProduto" placeholder="Categoria">
        <input type="text" id="descricaoProduto" placeholder="Descrição">
        <input type="text" id="imagemProduto" placeholder="URL da Imagem">
        <input type="text" id="precoProduto" placeholder="Preço final (R$)">
        <button id="adicionarProduto">Adicionar</button>
        <h4>Produtos Adicionados</h4>
        <div id="listaAdmin"></div>
        <button id="sairAdmin">Sair</button>
    </div>
</div>

<script>
// ===== Admin secreto =====
const adminSecret = document.getElementById('adminSecret');
const adminPanel = document.getElementById('adminPanel');
let clickCount = 0;
adminSecret.addEventListener('click', () => {
    clickCount++;
    if(clickCount === 3){
        adminPanel.style.display = 'block';
        clickCount = 0;
    }
});

// ===== Senha admin =====
const senhaCorreta = "180525";
const entrarAdmin = document.getElementById("entrarAdmin");
const painelConteudo = document.getElementById("painelConteudo");
const sairAdmin = document.getElementById("sairAdmin");

entrarAdmin.addEventListener("click", () => {
    const senha = document.getElementById("senhaAdmin").value;
    if(senha === senhaCorreta){
        painelConteudo.style.display = "block";
    } else alert("Senha incorreta");
});

sairAdmin.addEventListener("click", () => {
    painelConteudo.style.display = "none";
});

// ===== Produtos =====
let produtos = [];
const listaProdutos = document.getElementById("produtos");
const listaAdmin = document.getElementById("listaAdmin");

// JSONBin config
const BIN_URL = "https://api.jsonbin.io/v3/b/698dee6cd0ea881f40b5340b";
const API_KEY = "$2a$10$KgzwRXceXlZ0Rs1FpdBCC.RUFQ93BtDi1y86Ur6JwCa7HbvOYOkKG"; 

async function carregarProdutos() {
    try {
        const res = await fetch(BIN_URL + "/latest", {
            headers: { "X-Master-Key": API_KEY }
        });
        const data = await res.json();
        produtos = data.record.produtos || [];
        renderProdutos();
        renderAdmin();
    } catch (err) {
        console.error("Erro ao carregar produtos:", err);
        listaProdutos.innerHTML = "<p>Erro ao carregar produtos.</p>";
    }
}

async function salvarProdutosNoBin() {
    try {
        await fetch(BIN_URL, {
            method: "PUT",
            headers: {
                "Content-Type": "application/json",
                "X-Master-Key": API_KEY,
                "X-Bin-Versioning": "false"
            },
            body: JSON.stringify({ produtos })
        });
        console.log("Produtos salvos no JSONBin!");
    } catch (err) {
        console.error("Erro ao salvar produtos:", err);
    }
}

function renderProdutos(filtro = null){
    listaProdutos.innerHTML = "";
    produtos.forEach((p,i)=>{
        if(filtro && p.categoria.toLowerCase() !== filtro.toLowerCase()) return;
        const div = document.createElement("div");
        div.classList.add("produto-card");
        div.innerHTML = `
            <img src="${p.imagem}" alt="${p.nome}">
            <h3>${p.nome} - R$${p.preco}</h3>
            <p>${p.descricao}</p>
            <a class="btn-produto" onclick="enviarWhatsApp('${p.nome}','${p.preco}')">
                <i class="fab fa-whatsapp"></i> Pedir no WhatsApp
            </a>
        `;
        listaProdutos.appendChild(div);
    });
}

function renderAdmin(){
    listaAdmin.innerHTML = "";
    produtos.forEach((p,i)=>{
        const div = document.createElement("div");
        div.style.borderBottom="1px solid #fff";
        div.style.marginBottom="5px";
        div.innerHTML = `${p.nome} - ${p.categoria} - R$${p.preco} <button onclick="removerProduto(${i})">Remover</button>`;
        listaAdmin.appendChild(div);
    });
}

// Adicionar produto
document.getElementById("adicionarProduto").addEventListener("click", async ()=>{
    const nome = document.getElementById("nomeProduto").value;
    const categoria = document.getElementById("categoriaProduto").value;
    const descricao = document.getElementById("descricaoProduto").value;
    const imagem = document.getElementById("imagemProduto").value;
    const preco = document.getElementById("precoProduto").value;

    if(!nome || !categoria || !preco) return alert("Preencha nome, categoria e preço");

    produtos.push({nome,categoria,descricao,imagem,preco});
    await salvarProdutosNoBin();
    renderProdutos();
    renderAdmin();

    document.getElementById("nomeProduto").value="";
    document.getElementById("categoriaProduto").value="";
    document.getElementById("descricaoProduto").value="";
    document.getElementById("imagemProduto").value="";
    document.getElementById("precoProduto").value="";
});

// Remover produto
async function removerProduto(i){
    produtos.splice(i,1);
    await salvarProdutosNoBin();
    renderProdutos();
    renderAdmin();
}

// WhatsApp
function enviarWhatsApp(nome,preco){
    let numero = "559887420978";
    let mensagem = `Olá, quero pedir este produto:%0A%0AProduto: ${nome}%0APreço: R$${preco}`;
    window.open(`https://wa.me/${numero}?text=${mensagem}`,"_blank");
}

// Filtrar categoria
function filtrarCategoria(cat){
    renderProdutos(cat);
}

// Inicializa
carregarProdutos();
</script>

</body>
</html>
