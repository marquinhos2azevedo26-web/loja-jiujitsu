<!-- Botão de login/admin -->
<button id="btnAdmin" class="btn" style="position:fixed;top:10px;right:10px;background:red;">Admin</button>

<!-- Painel Admin -->
<div id="adminPanel" style="display:none;background:#111;color:#fff;padding:20px;position:fixed;top:50px;right:50px;width:300px;border:2px solid red;z-index:1000;">
    <h3>Painel Admin</h3>
    <label>Senha:</label>
    <input type="password" id="senhaAdmin" placeholder="Digite a senha">
    <button id="entrarAdmin">Entrar</button>

    <div id="painelConteudo" style="display:none;margin-top:20px;">
        <h4>Adicionar Produto</h4>
        <input type="text" id="nomeProduto" placeholder="Nome">
        <input type="text" id="categoriaProduto" placeholder="Categoria">
        <input type="text" id="descricaoProduto" placeholder="Descrição">
        <input type="text" id="imagemProduto" placeholder="URL da Imagem">
        <input type="text" id="precoProduto" placeholder="Preço final (R$)">
        <button id="adicionarProduto">Adicionar</button>
        <h4>Produtos Adicionados</h4>
        <div id="listaAdmin"></div>
        <button id="sairAdmin">Sair</button>
    </div>
</div>

<!-- Vitrine de produtos -->
<div class="produtos" id="listaProdutos"></div>

<script>
// Senha do admin
const senhaCorreta = "1234"; // Troque para sua senha

// Elementos
const btnAdmin = document.getElementById("btnAdmin");
const adminPanel = document.getElementById("adminPanel");
const entrarAdmin = document.getElementById("entrarAdmin");
const painelConteudo = document.getElementById("painelConteudo");
const sairAdmin = document.getElementById("sairAdmin");
const listaAdmin = document.getElementById("listaAdmin");
const listaProdutos = document.getElementById("listaProdutos");

// Produtos no localStorage
let produtos = JSON.parse(localStorage.getItem("produtos")) || [];

// Mostrar produtos na vitrine
function renderProdutos() {
    listaProdutos.innerHTML = "";
    produtos.forEach((p, i) => {
        const div = document.createElement("div");
        div.classList.add("produto");
        div.dataset.categoria = p.categoria.toLowerCase();
        div.innerHTML = `
            <img src="${p.imagem}" alt="${p.nome}">
            <h3>${p.nome} - R$${p.preco}</h3>
            <p>${p.descricao}</p>
            <a href="#" class="btn" onclick="enviarWhatsApp('${p.nome}','${p.preco}')">Pedir no WhatsApp</a>
        `;
        listaProdutos.appendChild(div);
    });
}

// Renderizar produtos admin
function renderAdmin() {
    listaAdmin.innerHTML = "";
    produtos.forEach((p, i) => {
        const div = document.createElement("div");
        div.style.borderBottom = "1px solid #fff";
        div.style.marginBottom = "5px";
        div.innerHTML = `
            ${p.nome} - ${p.categoria} - R$${p.preco}
            <button onclick="removerProduto(${i})">Remover</button>
        `;
        listaAdmin.appendChild(div);
    });
}

// Adicionar produto
document.getElementById("adicionarProduto").addEventListener("click", () => {
    const nome = document.getElementById("nomeProduto").value;
    const categoria = document.getElementById("categoriaProduto").value;
    const descricao = document.getElementById("descricaoProduto").value;
    const imagem = document.getElementById("imagemProduto").value;
    const preco = document.getElementById("precoProduto").value;

    if(!nome || !categoria || !preco) return alert("Preencha pelo menos nome, categoria e preço");

    produtos.push({nome, categoria, descricao, imagem, preco});
    localStorage.setItem("produtos", JSON.stringify(produtos));
    renderProdutos();
    renderAdmin();

    // Limpar campos
    document.getElementById("nomeProduto").value = "";
    document.getElementById("categoriaProduto").value = "";
    document.getElementById("descricaoProduto").value = "";
    document.getElementById("imagemProduto").value = "";
    document.getElementById("precoProduto").value = "";
});

// Remover produto
function removerProduto(i) {
    produtos.splice(i,1);
    localStorage.setItem("produtos", JSON.stringify(produtos));
    renderProdutos();
    renderAdmin();
}

// Login admin
entrarAdmin.addEventListener("click", () => {
    const senha = document.getElementById("senhaAdmin").value;
    if(senha === senhaCorreta){
        painelConteudo.style.display = "block";
    } else alert("Senha incorreta");
});

// Sair admin
sairAdmin.addEventListener("click", () => {
    painelConteudo.style.display = "none";
});

// Mostrar painel
btnAdmin.addEventListener("click", () => {
    adminPanel.style.display = "block";
});

// Função WhatsApp
function enviarWhatsApp(nome, preco) {
    let numero = "5511912345678"; // Troque para seu número
    let mensagem = `Olá, quero pedir este produto:%0A%0AProduto: ${nome}%0APreço: R$${preco}`;
    window.open(`https://wa.me/${numero}?text=${mensagem}`, "_blank");
}

// Inicializa
renderProdutos();
</script>

